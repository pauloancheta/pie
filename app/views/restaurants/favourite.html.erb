<h1>Favourited Restaurants</h1>

<%# @user.favourited_users.each do |restaurant| %>
<!--   <p>Name: <%#= restaurant.name %></p> -->
<!--   <p>Address: <%#= restaurant.address %></p>
  <p>Phone:<%#= restaurant.phone_number %></p>
  <hr>
 --><%# end %>

<% if @user.favourited_users.length < 1 %>
  <%# if user has no favourites, displays a message %>
  <p>You haven't added any restaurants to your favourites yet!</p>
<% end %>

<% @restaurants.each do |restaurant| %>
  <div class="card">
    <div class="card_container">
      <% if user_signed_in?  %>
        <% if !current_user.favourites.map(&:favourited_user_id).include?(restaurant.id) %>
          <%= link_to "Favourite This Restaurant", 
            user_favourites_path(current_user,favourited_user_id: restaurant.id), 
            method: :post, class: "btn btn-info btn-xs" %>
        <% else %>
          <%= link_to "Favourited", 
          user_favourite_path(current_user, restaurant.id), 
          method: :delete, class: "btn btn-success btn-xs" %>
        <% end %>
      <% end %>
      <div class="card_title">
        <h3 class="restaurant_name"><%= link_to restaurant.name, user_menus_path(restaurant) %></h3>
      </div>
    </div>
    <div class="card_footer">
      <%= link_to(restaurant) do %>
        <%= restaurant.address %><br>
        <%= restaurant.phone_number %><br>
        <%= restaurant.email %><br>
      <% end %>  
    </div>
  </div>
<% end %>
